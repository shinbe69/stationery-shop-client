{"ast":null,"code":"var _jsxFileName = \"/home/shinbe69/Desktop/React/stationery-shop/src/components/sideMenu/sidemenu.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport './sidemenu.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SideMenu() {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [selection, setSelection] = useState('');\n  useEffect(() => {\n    fetch('/api/getCategories').then(res => res.json()).then(categories => setCategories(categories));\n  }, []);\n  useEffect(() => {\n    if (selection !== '') {\n      fetch('/api/products/getProductsByCategory', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          categoryId: selection\n        })\n      }).then(res => res.json()).then(products => setProducts(products)).catch(error => console.log(error));\n      // Show clear category button\n      document.getElementById('clearCategoryFilter').style.display = 'block';\n      navigate('/product-filter');\n    } else {\n      fetch('/api/products/getProducts').then(res => res.json()).then(products => setProducts(products)).catch(error => console.log(error));\n      // Hide the clear category button\n      document.getElementById('clearCategoryFilter').style.display = 'none';\n    }\n  }, [selection]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"sideMenu\",\n    children: [categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"categoryItem\",\n      onClick: () => setSelection(category._id),\n      style: category._id === selection ? {\n        backgroundColor: '#dedcdc'\n      } : {},\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: category.thumnail,\n        alt: \"category item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          margin: '0 1rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: category.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, category._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"categoryItem\",\n      id: \"clearCategoryFilter\",\n      onClick: () => setSelection(''),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"./close.png\",\n        alt: \"clear selection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(SideMenu, \"/c2ylgBgSGZ00whcqCIVH0v193U=\");\n_c = SideMenu;\nvar _c;\n$RefreshReg$(_c, \"SideMenu\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","SideMenu","_s","categories","setCategories","selection","setSelection","fetch","then","res","json","method","headers","body","JSON","stringify","categoryId","products","setProducts","catch","error","console","log","document","getElementById","style","display","navigate","id","children","map","category","className","onClick","_id","backgroundColor","src","thumnail","alt","fileName","_jsxFileName","lineNumber","columnNumber","margin","name","_c","$RefreshReg$"],"sources":["/home/shinbe69/Desktop/React/stationery-shop/src/components/sideMenu/sidemenu.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport './sidemenu.css'\n\nexport default function SideMenu() {\n    const [categories, setCategories] = useState([])\n    const [selection, setSelection] = useState('')\n\n    useEffect(() => {\n        fetch('/api/getCategories')\n        .then(res => res.json())\n        .then(categories => setCategories(categories))\n      }, [])\n\n    useEffect(() => {\n        if (selection !== '') {\n          fetch('/api/products/getProductsByCategory', {\n              method: 'POST',\n              headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({ categoryId: selection })\n          })\n          .then(res => res.json())\n          .then(products => setProducts(products))\n          .catch((error) => console.log(error))\n          // Show clear category button\n          document.getElementById('clearCategoryFilter').style.display = 'block'\n          navigate('/product-filter')\n        }\n        else {\n          fetch('/api/products/getProducts')\n          .then(res => res.json())\n          .then(products => setProducts(products))\n          .catch((error) => console.log(error))\n          // Hide the clear category button\n          document.getElementById('clearCategoryFilter').style.display = 'none'\n        }\n      }, [selection])\n\n    return (\n        <div id=\"sideMenu\" >\n            {categories.map(category => (\n            <div className=\"categoryItem\" key={ category._id } onClick={ () => setSelection(category._id) } style={ category._id === selection ? { backgroundColor: '#dedcdc' } : {}} >\n                <img src={ category.thumnail } alt=\"category item\" />\n                <hr style={{ margin: '0 1rem' }} />\n                <p>{ category.name }</p>\n            </div>\n        ))}\n            <div className='categoryItem' id='clearCategoryFilter' onClick={() => setSelection('') }>\n            <img src='./close.png' alt='clear selection'/>\n            </div>\n        </div>\n    )\n}"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAO,gBAAgB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEvB,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACZS,KAAK,CAAC,oBAAoB,CAAC,CAC1BC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACL,UAAU,IAAIC,aAAa,CAACD,UAAU,CAAC,CAAC;EAChD,CAAC,EAAE,EAAE,CAAC;EAERL,SAAS,CAAC,MAAM;IACZ,IAAIO,SAAS,KAAK,EAAE,EAAE;MACpBE,KAAK,CAAC,qCAAqC,EAAE;QACzCI,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,QAAQ,EAAE,kBAAkB;UAC5B,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,UAAU,EAAEX;QAAU,CAAC;MAClD,CAAC,CAAC,CACDG,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACS,QAAQ,IAAIC,WAAW,CAACD,QAAQ,CAAC,CAAC,CACvCE,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;MACrC;MACAG,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;MACtEC,QAAQ,CAAC,iBAAiB,CAAC;IAC7B,CAAC,MACI;MACHpB,KAAK,CAAC,2BAA2B,CAAC,CACjCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACS,QAAQ,IAAIC,WAAW,CAACD,QAAQ,CAAC,CAAC,CACvCE,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;MACrC;MACAG,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IACvE;EACF,CAAC,EAAE,CAACrB,SAAS,CAAC,CAAC;EAEjB,oBACIL,OAAA;IAAK4B,EAAE,EAAC,UAAU;IAAAC,QAAA,GACb1B,UAAU,CAAC2B,GAAG,CAACC,QAAQ,iBACxB/B,OAAA;MAAKgC,SAAS,EAAC,cAAc;MAAsBC,OAAO,EAAGA,CAAA,KAAM3B,YAAY,CAACyB,QAAQ,CAACG,GAAG,CAAG;MAACT,KAAK,EAAGM,QAAQ,CAACG,GAAG,KAAK7B,SAAS,GAAG;QAAE8B,eAAe,EAAE;MAAU,CAAC,GAAG,CAAC,CAAE;MAAAN,QAAA,gBACrK7B,OAAA;QAAKoC,GAAG,EAAGL,QAAQ,CAACM,QAAU;QAACC,GAAG,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrD1C,OAAA;QAAIyB,KAAK,EAAE;UAAEkB,MAAM,EAAE;QAAS;MAAE;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnC1C,OAAA;QAAA6B,QAAA,EAAKE,QAAQ,CAACa;MAAI;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA,GAHQX,QAAQ,CAACG,GAAG;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAI3C,CACR,CAAC,eACE1C,OAAA;MAAKgC,SAAS,EAAC,cAAc;MAACJ,EAAE,EAAC,qBAAqB;MAACK,OAAO,EAAEA,CAAA,KAAM3B,YAAY,CAAC,EAAE,CAAG;MAAAuB,QAAA,eACxF7B,OAAA;QAAKoC,GAAG,EAAC,aAAa;QAACE,GAAG,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACxC,EAAA,CAnDuBD,QAAQ;AAAA4C,EAAA,GAAR5C,QAAQ;AAAA,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}